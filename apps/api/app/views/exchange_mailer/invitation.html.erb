<% content_for :preview_text do %>You've been invited to join <%= @exchange.name %> gift exchange!</% end %>

<h1 style="margin: 0 0 8px 0; font-size: 24px; font-weight: 700; color: #18181b;">
  You're Invited! ğŸ
</h1>

<p style="margin: 0 0 24px 0; font-size: 16px; color: #52525b;">
  <strong><%= @owner.safe_name %></strong> has invited you to join their gift exchange: <strong><%= @exchange.name %></strong>
</p>

<table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
  <tr>
    <td style="background-color: #faf5ff; border-radius: 12px; padding: 20px;">
      <p style="margin: 0 0 12px 0; font-size: 14px; font-weight: 600; color: #7c3aed;">Exchange Details:</p>
      <table role="presentation" cellspacing="0" cellpadding="0" border="0">
        <tr>
          <td style="padding: 6px 0; font-size: 14px; color: #52525b;">
            <span style="margin-right: 8px;">ğŸ“…</span> 
            <strong>Date:</strong> 
            <%= @exchange.exchange_date ? @exchange.exchange_date.strftime("%B %d, %Y") : "TBD" %>
          </td>
        </tr>
        <% if @exchange.budget_min || @exchange.budget_max %>
        <tr>
          <td style="padding: 6px 0; font-size: 14px; color: #52525b;">
            <span style="margin-right: 8px;">ğŸ’°</span> 
            <strong>Budget:</strong> 
            <% if @exchange.budget_min && @exchange.budget_max %>
              $<%= @exchange.budget_min.to_i %> - $<%= @exchange.budget_max.to_i %>
            <% elsif @exchange.budget_max %>
              Up to $<%= @exchange.budget_max.to_i %>
            <% else %>
              At least $<%= @exchange.budget_min.to_i %>
            <% end %>
          </td>
        </tr>
        <% end %>
      </table>
    </td>
  </tr>
</table>

<p style="margin: 0 0 16px 0; font-size: 14px; color: #52525b;">
  When you join, you'll be able to:
</p>

<table role="presentation" cellspacing="0" cellpadding="0" border="0" style="margin-bottom: 24px;">
  <tr>
    <td style="padding: 4px 0; font-size: 14px; color: #52525b;">
      <span style="margin-right: 8px;">âœ¨</span> Add items to your wishlist
    </td>
  </tr>
  <tr>
    <td style="padding: 4px 0; font-size: 14px; color: #52525b;">
      <span style="margin-right: 8px;">ğŸ…</span> Get matched with someone to buy a gift for
    </td>
  </tr>
  <tr>
    <td style="padding: 4px 0; font-size: 14px; color: #52525b;">
      <span style="margin-right: 8px;">ğŸ</span> See their wishlist to find the perfect gift
    </td>
  </tr>
</table>

<table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
  <tr>
    <td align="center">
      <a href="<%= @invite_url %>" class="button" style="display: inline-block; padding: 14px 32px; background: linear-gradient(135deg, #a855f7, #ec4899); color: #ffffff; font-size: 15px; font-weight: 600; text-decoration: none; border-radius: 10px;">
        Join the Exchange
      </a>
    </td>
  </tr>
</table>

<p style="margin: 32px 0 0 0; font-size: 12px; color: #a1a1aa; text-align: center;">
  This invitation was sent to <%= @participant.email %>
</p>
